# Phase 1 ç»ƒä¹ ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

## ç»ƒä¹ ç›®æ ‡
é€šè¿‡å®ç°ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œå·©å›ºç¬¬ä¸€é˜¶æ®µå­¦ä¹ çš„çŸ¥è¯†ç‚¹ã€‚

## åŠŸèƒ½éœ€æ±‚

### åŸºç¡€åŠŸèƒ½ï¼ˆå¿…åšï¼‰
1. **ç”¨æˆ·æ³¨å†Œ** - POST /api/v1/users/register
   - æ¥æ”¶ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
   - è¿”å›åˆ›å»ºæˆåŠŸçš„ç”¨æˆ·ä¿¡æ¯

2. **ç”¨æˆ·ç™»å½•** - POST /api/v1/users/login
   - éªŒè¯ç”¨æˆ·åå’Œå¯†ç 
   - è¿”å›ç™»å½•æˆåŠŸ/å¤±è´¥ä¿¡æ¯

3. **è·å–ç”¨æˆ·åˆ—è¡¨** - GET /api/v1/users
   - æ”¯æŒåˆ†é¡µï¼ˆpage, page_sizeï¼‰
   - æ”¯æŒæŒ‰ç”¨æˆ·åæœç´¢ï¼ˆkeywordï¼‰

4. **è·å–ç”¨æˆ·è¯¦æƒ…** - GET /api/v1/users/:id
   - æ ¹æ®IDè·å–ç”¨æˆ·ä¿¡æ¯

5. **æ›´æ–°ç”¨æˆ·ä¿¡æ¯** - PUT /api/v1/users/:id
   - æ”¯æŒæ›´æ–°é‚®ç®±ã€å¹´é¾„

6. **åˆ é™¤ç”¨æˆ·** - DELETE /api/v1/users/:id
   - è½¯åˆ é™¤ç”¨æˆ·

### è¿›é˜¶åŠŸèƒ½ï¼ˆé€‰åšï¼‰
7. **ç”¨æˆ·ç»Ÿè®¡** - GET /api/v1/users/stats
   - è¿”å›æ€»ç”¨æˆ·æ•°ã€å¹´é¾„æ®µåˆ†å¸ƒ

8. **æ‰¹é‡æ“ä½œ** - POST /api/v1/users/batch-delete
   - æ‰¹é‡åˆ é™¤ç”¨æˆ·

## æ•°æ®å­˜å‚¨
ä½¿ç”¨å†…å­˜ map å­˜å‚¨ç”¨æˆ·æ•°æ®ï¼ˆä¸éœ€è¦æ•°æ®åº“ï¼‰ã€‚

## ç”¨æˆ·ç»“æ„
```go
type User struct {
    ID        uint      `json:"id"`
    Username  string    `json:"username"`
    Email     string    `json:"email"`
    Password  string    `json:"-"` // ä¸è¿”å›ç»™å‰ç«¯
    Age       int       `json:"age"`
    Status    int       `json:"status"` // 1:æ­£å¸¸ 0:å·²åˆ é™¤
    CreatedAt time.Time `json:"created_at"`
}
```

## ç»ƒä¹ è¦æ±‚

### 1. è·¯ç”±è®¾è®¡
- ä½¿ç”¨è·¯ç”±åˆ†ç»„ `/api/v1/users`
- åˆç†ä½¿ç”¨ HTTP æ–¹æ³•ï¼ˆGET/POST/PUT/DELETEï¼‰

### 2. è¯·æ±‚å¤„ç†
- ä½¿ç”¨ JSON æ ¼å¼æ¥æ”¶å’Œè¿”å›æ•°æ®
- æ­£ç¡®å¤„ç† Query å‚æ•°å’Œè·¯å¾„å‚æ•°
- å®ç°è¯·æ±‚å‚æ•°éªŒè¯ï¼ˆéç©ºã€é•¿åº¦ç­‰ï¼‰

### 3. å“åº”æ ¼å¼
ç»Ÿä¸€å“åº”æ ¼å¼ï¼š
```json
{
    "code": 200,
    "message": "success",
    "data": { }
}
```

### 4. é”™è¯¯å¤„ç†
- å¤„ç†ç”¨æˆ·ä¸å­˜åœ¨çš„æƒ…å†µï¼ˆ404ï¼‰
- å¤„ç†å‚æ•°é”™è¯¯çš„æƒ…å†µï¼ˆ400ï¼‰
- å¤„ç†æœåŠ¡å™¨é”™è¯¯çš„æƒ…å†µï¼ˆ500ï¼‰

## æµ‹è¯•ç¤ºä¾‹

```bash
# 1. æ³¨å†Œç”¨æˆ·
curl -X POST http://localhost:8080/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username":"zhangsan","email":"zhangsan@example.com","password":"123456","age":25}'

# 2. ç”¨æˆ·ç™»å½•
curl -X POST http://localhost:8080/api/v1/users/login \
  -H "Content-Type: application/json" \
  -d '{"username":"zhangsan","password":"123456"}'

# 3. è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
curl "http://localhost:8080/api/v1/users?page=1&page_size=10"

# 4. æœç´¢ç”¨æˆ·
curl "http://localhost:8080/api/v1/users?keyword=zhang"

# 5. è·å–ç”¨æˆ·è¯¦æƒ…
curl http://localhost:8080/api/v1/users/1

# 6. æ›´æ–°ç”¨æˆ·
curl -X PUT http://localhost:8080/api/v1/users/1 \
  -H "Content-Type: application/json" \
  -d '{"email":"newemail@example.com","age":26}'

# 7. åˆ é™¤ç”¨æˆ·
curl -X DELETE http://localhost:8080/api/v1/users/1
```

## è¯„åˆ†æ ‡å‡†

| åŠŸèƒ½ | åˆ†å€¼ |
|------|------|
| é¡¹ç›®ç»“æ„æ¸…æ™° | 10åˆ† |
| è·¯ç”±è®¾è®¡åˆç† | 15åˆ† |
| æ³¨å†Œ/ç™»å½•åŠŸèƒ½ | 20åˆ† |
| å¢åˆ æ”¹æŸ¥åŠŸèƒ½ | 30åˆ† |
| åˆ†é¡µå’Œæœç´¢ | 15åˆ† |
| é”™è¯¯å¤„ç† | 10åˆ† |
| **æ€»åˆ†** | **100åˆ†** |

## å‚è€ƒç­”æ¡ˆä½ç½®
å®Œæˆç»ƒä¹ åï¼Œå¯ä»¥æŸ¥çœ‹ `solution/main.go` å‚è€ƒå®ç°ã€‚

## æç¤º

1. ä½¿ç”¨å…¨å±€å˜é‡å­˜å‚¨ç”¨æˆ·æ•°æ®ï¼š
```go
var (
    users = make(map[uint]*User)
    nextID uint = 1
    mu sync.RWMutex // ç”¨äºå¹¶å‘å®‰å…¨
)
```

2. å¯†ç ä¸éœ€è¦åŠ å¯†ï¼Œæ˜æ–‡å­˜å‚¨å³å¯ï¼ˆç»ƒä¹ ç®€åŒ–ï¼‰

3. ä½¿ç”¨ `time.Now()` è®°å½•åˆ›å»ºæ—¶é—´

4. åˆ é™¤ç”¨æˆ·æ—¶ï¼Œå°† Status è®¾ä¸º 0ï¼Œä¸è¦çœŸæ­£åˆ é™¤æ•°æ®

5. å¯ä»¥å‚è€ƒä¸»ç›®å½•çš„ `main.go` å­¦ä¹ åŸºç¡€è¯­æ³•

## è¿›é˜¶æŒ‘æˆ˜

å¦‚æœä½ å®Œæˆäº†åŸºç¡€åŠŸèƒ½ï¼Œå¯ä»¥å°è¯•ï¼š
1. æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½
2. å®ç°ç”¨æˆ·å…³æ³¨åŠŸèƒ½ï¼ˆå¤šå¯¹å¤šå…³ç³»ï¼‰
3. æ·»åŠ æ“ä½œæ—¥å¿—è®°å½•

Good luck! ğŸ’ª
